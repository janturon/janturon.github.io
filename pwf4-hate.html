<meta charset="UTF-8">
<link rel="stylesheet" href="src/style.css">

<h1>PWF Template system</h1>

<a href="https://latte.nette.org/en/guide">Latte</a> claims that plain PHP is not good for templating, showing this snippet
<xmp>
<?php if ($items): ?>
  <?php $counter = 1 ?>
  <ul>
  <?php foreach ($items as $item): ?>
    <li id="item-<?php echo $counter++ ?>"><?php
      echo htmlSpecialChars(mb_convert_case($item, MB_CASE_TITLE)) ?>
    </li>
  <?php endforeach ?>
  </ul>
<?php endif?>
</xmp>

<p>Then it compares to Latte syntax:
<xmp>
<ul n:if="$items">
{foreach $items as $item}
  <li id="item-{$iterator->counter}">{$item|capitalize}</li>
{/foreach}
</ul>
</xmp>

<p>This is biased a lot, though, and this code suffers serious issues:
<ul>
  <li>Seeing enriched HTML, I would intuitively expect <tt>&lt;ul n:if="$items"></tt> to display the <tt>&lt;ul></tt> tag every time (with some fancy autogenerated attributes). But sometimes it doesn't display. It could be more intuitive if the <tt>if</tt> contents is boolean (like <tt>&lt;ul n:if="!empty($items)"></tt>).
  <li>Global object <tt>$iterator</tt> magicaly appeared from thin air. You are also expected to use <tt>$iterator->counter</tt> instead of simple <tt>$i</tt>, so your example code looks like it contains something. It could be more intuitive with syntax like <tt>{foreach $items as $item iterator $iterator}</tt> having the <tt>iterator</tt> part optional. Anyway it is not iterator at all. Forward iterator should contain <tt>next()</tt> method.
</ul>

<p>There are <tt>short_open_tags</tt> PHP option allowing this code:
<xmp>
<?if($items):?>
<ul>
<?foreach($items as $i=>$item):?>
  <li id="item-<?=$i?>"><?=capitalize($item)?></li>
<?endforeach?>
</ul>
<?endif?>
</xmp>

<p>Observation:
<ul>
  <li>The code is easy to read and understand without the need of studying yet another language.
  <li>It doesn't need file cache or regex parsing. One less level of abstraction.
  <li>Of course one can write ugly mixtures of HTML and PHP code. But it can be also mixed in a nice way.
</ul>

<p>The rules for writing nice PHP as template system are simple:
<ul>
  <li><tt>short_open_tags</tt> On.
  <li>Only <tt>if</tt>, <tt>for</tt>, <tt>foreach</tt>, <tt>while</tt> single line commands (and their end- counterparts in the template, no HTML code in such lines.
  <li>No echo, just <tt>?=</tt> shorthand for inline php output.
</ul>

<p>There are some funny claims on the main Latte page:
<ul>
  <li><i>Latte is extremely fast.</i> Latte can be only as fast as PHP is. PHP is a slow scripting language. PECL extension would make it faster, but there is none. The speed bottleneck is the network traffic, though: parsing string regex or not, it doesn't make a difference in HTML assembling. It is just visibly slow for the first visitor because of the need to create and reinterpret file cache.
  <li><i>Latte syntax wasn't invented by engineers but came up from web designer's practical requests.</i> In other words: Latte is not a standard, it was made by a few (one?) Czech boys who consider themselves webdesigners smarter than engineers.
<ul>